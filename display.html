<!DOCTYPE html>
<html>
<body>


<script>


var dataZip= getParameterByName("zipcode");
var dataCuisine= getParameterByName("cuisine");
var dataName= getParameterByName("name");


var xhttp = new XMLHttpRequest();
xhttp.onreadystatechange = function() {
    if (xhttp.readyState == 4 && xhttp.status == 200) {
    myFunction(xhttp);
    }
}
xhttp.open("GET", "restaurants.xml", true);
xhttp.send();

function getParameterByName(name) {
	var formURL = document.location;
    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
        results = regex.exec(formURL);
    return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}

function myFunction(xml) {		
		
	var xmlDoc = xml.responseXML;	
	var restaurant = xmlDoc.getElementsByTagName("restaurant");
	
	 for(var i =0;i<restaurant.length;i++)
	 {
		 if(restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue==dataZip && dataCuisine=="" && dataName=="")		 
		 {
			alert("Zip Match Found");
			var rName=restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
			var rAddress=restaurant[i].getElementsByTagName("Address")[0].childNodes[0].nodeValue;
			var element=document.createElement("p");
			var rest_Name=document.createTextNode(rName);
			var rest_Addr=document.createTextNode(rAddress);
			element.appendChild(rest_Name);
			element.appendChild(rest_Addr);
			document.body.appendChild(element);
			
		 }
		 
		 if(restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue.toUpperCase()==dataName.toUpperCase() && dataCuisine=="" && dataZip=="")
		 {
			alert("Name Match Found");
			var rName=restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
			var rAddress=restaurant[i].getElementsByTagName("Address")[0].childNodes[0].nodeValue;
			var rZipCode=restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue;
			var element=document.createElement("p");
			var rest_Name=document.createTextNode(rName);
			var rest_Addr=document.createTextNode(rAddress);
			var rest_Zip=document.createTextNode(rZipCode);
			element.appendChild(rest_Name);
			element.appendChild(rest_Addr);
			element.appendChild(rest_Zip);
			document.body.appendChild(element);
			
		 }
		 
		 if(restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue.toUpperCase()==dataCuisine.toUpperCase() && dataZip=="" && dataName=="")
		 {
			alert("Cuisine Match Found");
			var rName=restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
			var rAddress=restaurant[i].getElementsByTagName("Address")[0].childNodes[0].nodeValue;
			var rZipCode=restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue;
			var rCuisine=restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue;
			var element=document.createElement("p");
			var rest_Name=document.createTextNode(rName);
			var rest_Addr=document.createTextNode(rAddress);
			var rest_Zip=document.createTextNode(rZipCode);
			var rest_Cuisine=document.createTextNode(rCuisine);
			element.appendChild(rest_Name);
			element.appendChild(rest_Addr);
			element.appendChild(rest_Zip);
			element.appendChild(rest_Cuisine);
			document.body.appendChild(element);
			
		 }
		 
		 if(restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue==dataZip &&
		  restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue.toUpperCase()==dataName.toUpperCase())		 
		 {
			alert("Zip and Name Match Found");
			var rName=restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
			var rAddress=restaurant[i].getElementsByTagName("Address")[0].childNodes[0].nodeValue;
			var rZipCode=restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue;
			var rCuisine=restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue;
			var element=document.createElement("p");
			var rest_Name=document.createTextNode(rName);
			var rest_Addr=document.createTextNode(rAddress);
			var rest_Zip=document.createTextNode(rZipCode);
			var rest_Cuisine=document.createTextNode(rCuisine);
			element.appendChild(rest_Name);
			element.appendChild(rest_Addr);
			element.appendChild(rest_Zip);
			element.appendChild(rest_Cuisine);
			document.body.appendChild(element);
			
		 }
		  if(restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue==dataCuisine &&
		  restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue.toUpperCase()==dataName.toUpperCase())		 
		 {
			alert("Cusine and Name Match Found");
			var rName=restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
			var rAddress=restaurant[i].getElementsByTagName("Address")[0].childNodes[0].nodeValue;
			var rZipCode=restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue;
			var rCuisine=restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue;
			var element=document.createElement("p");
			var rest_Name=document.createTextNode(rName);
			var rest_Addr=document.createTextNode(rAddress);
			var rest_Zip=document.createTextNode(rZipCode);
			var rest_Cuisine=document.createTextNode(rCuisine);
			element.appendChild(rest_Name);
			element.appendChild(rest_Addr);
			element.appendChild(rest_Zip);
			element.appendChild(rest_Cuisine);
			document.body.appendChild(element);
			
		 }
		 
		 if(restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue==dataCuisine &&
		  restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue.toUpperCase()==dataZip.toUpperCase())		 
		 {
			alert("Zip and Cusine Match Found");
			var rName=restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
			var rAddress=restaurant[i].getElementsByTagName("Address")[0].childNodes[0].nodeValue;
			var rZipCode=restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue;
			var rCuisine=restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue;
			var element=document.createElement("p");
			var rest_Name=document.createTextNode(rName);
			var rest_Addr=document.createTextNode(rAddress);
			var rest_Zip=document.createTextNode(rZipCode);
			var rest_Cuisine=document.createTextNode(rCuisine);
			element.appendChild(rest_Name);
			element.appendChild(rest_Addr);
			element.appendChild(rest_Zip);
			element.appendChild(rest_Cuisine);
			document.body.appendChild(element);
			
		 }
		 
		 if(restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue==dataCuisine &&
		  restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue.toUpperCase()==dataZip.toUpperCase() &&
		  restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue.toUpperCase()==dataName.toUpperCase())		 
		 {
			alert("Zip and Cusine and Name Match Found");
			var rName=restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
			var rAddress=restaurant[i].getElementsByTagName("Address")[0].childNodes[0].nodeValue;
			var rZipCode=restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue;
			var rCuisine=restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue;
			var element=document.createElement("p");
			var rest_Name=document.createTextNode(rName);
			var rest_Addr=document.createTextNode(rAddress);
			var rest_Zip=document.createTextNode(rZipCode);
			var rest_Cuisine=document.createTextNode(rCuisine);
			element.appendChild(rest_Name);
			element.appendChild(rest_Addr);
			element.appendChild(rest_Zip);
			element.appendChild(rest_Cuisine);
			document.body.appendChild(element);
			
		 }
	 	 
	 }
		
}

</script>

</body>
</html>