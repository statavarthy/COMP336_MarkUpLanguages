<!DOCTYPE html>
<html>

<body>


    <script>
        var dataZip = getParameterByName("zipcode");
        var dataCuisine = getParameterByName("cuisine");
        var dataName = getParameterByName("name");


        var xhttp = new XMLHttpRequest();

        xhttp.onreadystatechange = function() {
            if (xhttp.readyState == 4 && xhttp.status == 200) {
                myFunction(xhttp);
            }
        }
        xhttp.open("GET", "restaurants.xml", true);
        xhttp.send();

        function getParameterByName(name) {
            var formURL = document.location;
            name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
            var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                results = regex.exec(formURL);
            return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
        }

        function myFunction(xml) {

            var xmlDoc = xml.responseXML;
            var restaurant = xmlDoc.getElementsByTagName("restaurant");
            var flagZip = 0;
            var flagName = 0;
            var flagSubmit = 0;
            var h = document.createElement("H1")
			var hs = document.createTextNode("H1{text-align:center;}");
			
            var heading = document.createTextNode("Here are your favourite Restaurants!!");
            h.appendChild(heading);
            document.body.appendChild(h);
            var x = document.createElement("STYLE");
            var t = document.createTextNode("body {font: 15px verdana; font-weight: bold; color: black;}");
            x.appendChild(t);
				//var tablearea = document.createElement("tablearea");
				//var ta = document.createTextNode("tablearea{ vertical-align: middle;}");
            var table = document.createElement("TABLE");
			var tableattr = document.createAttribute("align");
			tableattr.value="center";
			table.setAttributeNode(tableattr);
			//var tableattrvalue = document.createTextNode("center");
			//tableattr.appendChild(tableattrvalue);
			//table.appendChild(tableattr);
            var ts = document.createTextNode("table,th,td{ table-align:center; width:40%; margin-top:50px;}");
            x.appendChild(ts);
			x.appendChild(hs);
			//x.appendChild(ta);

            //document.getElementById("TABLE").style.borderStyle = "solid"; 


            //document.body.style.background = "#f3f3f3 url('images/food2.jpg') no-repeat right top";

            for (var i = 0; i < restaurant.length; i++) {
                var tr = document.createElement('tr');
                var td1 = document.createElement('td');
                var td2 = document.createElement('td');
                var td3 = document.createElement('td');
                var td4 = document.createElement('td');




                if (restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue == dataZip && dataCuisine == "" && dataName == "") {

					document.body.style.background = "#f3f3f3 url('images/watermark.png') repeat right top";
					//document.body.style.background = "#f3f3f3 url('images/vertical.jpg')  no-repeat ";
					//var watermark = document.createElement("watermark");
					//var watermarke_content = document.createTextNode("FOOD GLOBE");
					//watermark.appendChild(watermarke_content);
					//var wms = document.createTextNode("watermark {opacity: 0.1; color: BLACK;   position: absolute;  top: auto; transform:rotate(330deg); repeat-x  }");
                     //x.appendChild(wms);
					flagZip = 1;
                    var rName = restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
                    var rAddress = restaurant[i].getElementsByTagName("Address")[0].childNodes[0].nodeValue;
                    var rZipCode = restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue;
                    var rCuisine = restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue;
                    //var element=document.createElement("p");	
                    //var att = document.createAttribute("class");
                    //att.value="nameStyle";
                    //element.setAttributeNode(att);
                    var rest_Name = document.createTextNode(rName);
                    var rest_Addr = document.createTextNode(rAddress);
                    var rest_Zip = document.createTextNode(rZipCode);
                    var rest_Cuisine = document.createTextNode(rCuisine);
                    //element.appendChild(rest_Name);
                    td1.appendChild(rest_Name);
                    //var br = document.createElement("br");				
                    //element.appendChild(br);
                    //element.appendChild(rest_Addr);	
                    td2.appendChild(rest_Addr);
                    //var br = document.createElement("br");				
                    //element.appendChild(br);			
                    //element.appendChild(rest_Zip);	
                    td3.appendChild(rest_Zip);

                    //element.appendChild(rest_Cuisine);	
                    td4.appendChild(rest_Cuisine);
                    tr.appendChild(td1);
                    tr.appendChild(td2);
                    tr.appendChild(td3);
                    tr.appendChild(td4);
                    table.appendChild(tr);
						//ta.appendChild(table);
                    //document.body.appendChild(element);
                    //document.body.appendChild(x);	

                    document.body.appendChild(table);
                    document.body.appendChild(x);
document.body.appendChild(watermark);
					


                }



                if (restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue.toUpperCase() == dataName.toUpperCase() && dataCuisine == "" && dataZip == "") {

                    document.body.style.background = "#f3f3f3 url('images/food2.jpg') no-repeat right top";
					flagName = 1;
                    var rName = restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
                    var rAddress = restaurant[i].getElementsByTagName("Address")[0].childNodes[0].nodeValue;
                    var rZipCode = restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue;
					var rCuisine = restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue;
                    
					//var element = document.createElement("p");
                    var rest_Name = document.createTextNode(rName);
                    var rest_Addr = document.createTextNode(rAddress);
                    var rest_Zip = document.createTextNode(rZipCode);
                    var rest_Cuisine = document.createTextNode(rCuisine);
					//element.appendChild(rest_Name);
                    //var br = document.createElement("br");
                    //element.appendChild(br);
                    //element.appendChild(rest_Addr);
                    //var br = document.createElement("br");
                    //element.appendChild(br);
                    //element.appendChild(rest_Zip);
                    //document.body.appendChild(element);
                    //document.body.appendChild(x);
					
					td1.appendChild(rest_Name);
                    	
                    td2.appendChild(rest_Addr);
                    
                    td3.appendChild(rest_Zip);

                    td4.appendChild(rest_Cuisine);
                    
					tr.appendChild(td1);
                    tr.appendChild(td2);
                    tr.appendChild(td3);
                    tr.appendChild(td4);
                    table.appendChild(tr);
						

                    document.body.appendChild(table);
                    document.body.appendChild(x);


                }

                if (restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue.toUpperCase() == dataCuisine.toUpperCase() && dataZip == "" && dataName == "") {
                    
					if(dataCuisine=="Indian")
					{
					document.body.style.background = "#f3f3f3 url('images/Indian.jpg') no-repeat right top";
					}
					if(dataCuisine=="Italian")
					{
					document.body.style.background = "#f3f3f3 url('images/Italian.jpg') no-repeat right top";
					}
					if(dataCuisine=="Mexican")
					{
					document.body.style.background = "#f3f3f3 url('images/Mexican.jpg') no-repeat right top";
					}
					if(dataCuisine=="Chinese")
					{
					document.body.style.background = "#f3f3f3 url('images/Chinese.jpg') no-repeat right top";
					}
					if(dataCuisine=="Thai")
					{
					document.body.style.background = "#f3f3f3 url('images/Thai.jpg') no-repeat right top";
					}
					if(dataCuisine=="Japanese")
					{
					document.body.style.background = "#f3f3f3 url('images/Japenese.jpg') no-repeat right top";
					}
					flag = 1;
                    var rName = restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
                    var rAddress = restaurant[i].getElementsByTagName("Address")[0].childNodes[0].nodeValue;
                    var rZipCode = restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue;
                    var rCuisine = restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue;
                    //var element = document.createElement("p");
                    var rest_Name = document.createTextNode(rName);
                    var rest_Addr = document.createTextNode(rAddress);
                    var rest_Zip = document.createTextNode(rZipCode);
                    var rest_Cuisine = document.createTextNode(rCuisine);
                    td1.appendChild(rest_Name);
                    	
                    td2.appendChild(rest_Addr);
                    
                    td3.appendChild(rest_Zip);

                    td4.appendChild(rest_Cuisine);
                    
					tr.appendChild(td1);
                    tr.appendChild(td2);
                    tr.appendChild(td3);
                    tr.appendChild(td4);
                    table.appendChild(tr);
						

                    document.body.appendChild(table);
                    document.body.appendChild(x);

                }

                if (restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue == dataZip &&
                    restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue.toUpperCase() == dataName.toUpperCase() && dataCuisine == "") {
                   
				   document.body.style.background = "#f3f3f3 url('images/food2.jpg') no-repeat right top";
					
					flag = 1;
                    var rName = restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
                    var rAddress = restaurant[i].getElementsByTagName("Address")[0].childNodes[0].nodeValue;
                    var rZipCode = restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue;
                    var rCuisine = restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue;
                    var element = document.createElement("p");
                    var rest_Name = document.createTextNode(rName);
                    var rest_Addr = document.createTextNode(rAddress);
                    var rest_Zip = document.createTextNode(rZipCode);
                    var rest_Cuisine = document.createTextNode(rCuisine);
                   td1.appendChild(rest_Name);
                    	
                    td2.appendChild(rest_Addr);
                    
                    td3.appendChild(rest_Zip);

                    td4.appendChild(rest_Cuisine);
                    
					tr.appendChild(td1);
                    tr.appendChild(td2);
                    tr.appendChild(td3);
                    tr.appendChild(td4);
                    table.appendChild(tr);
						

                    document.body.appendChild(table);
                    document.body.appendChild(x);


                }
                if (restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue == dataCuisine &&
                    restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue.toUpperCase() == dataName.toUpperCase() && dataZip == "") {
                   
					if(dataCuisine=="Indian")
					{
					document.body.style.background = "#f3f3f3 url('images/Indian.jpg') no-repeat right top";
					}
					if(dataCuisine=="Italian")
					{
					document.body.style.background = "#f3f3f3 url('images/Italian.jpg') no-repeat right top";
					}
					if(dataCuisine=="Mexican")
					{
					document.body.style.background = "#f3f3f3 url('images/Mexican.jpg') no-repeat right top";
					}
					if(dataCuisine=="Chinese")
					{
					document.body.style.background = "#f3f3f3 url('images/Chinese.jpg') no-repeat right top";
					}
					if(dataCuisine=="Thai")
					{
					document.body.style.background = "#f3f3f3 url('images/Thai.jpg') no-repeat right top";
					}
					if(dataCuisine=="Japanese")
					{
					document.body.style.background = "#f3f3f3 url('images/Japenese.jpg') no-repeat right top";
					}
					flag = 1;
                    var rName = restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
                    var rAddress = restaurant[i].getElementsByTagName("Address")[0].childNodes[0].nodeValue;
                    var rZipCode = restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue;
                    var rCuisine = restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue;
                    var element = document.createElement("p");
                    var rest_Name = document.createTextNode(rName);
                    var rest_Addr = document.createTextNode(rAddress);
                    var rest_Zip = document.createTextNode(rZipCode);
                    var rest_Cuisine = document.createTextNode(rCuisine);
                   td1.appendChild(rest_Name);
                    	
                    td2.appendChild(rest_Addr);
                    
                    td3.appendChild(rest_Zip);

                    td4.appendChild(rest_Cuisine);
                    
					tr.appendChild(td1);
                    tr.appendChild(td2);
                    tr.appendChild(td3);
                    tr.appendChild(td4);
                    table.appendChild(tr);
						

                    document.body.appendChild(table);
                    document.body.appendChild(x);
                }

                if (restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue == dataCuisine &&
                    restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue.toUpperCase() == dataZip.toUpperCase() && dataName == "") {
                    
					if(dataCuisine=="Indian")
					{
					document.body.style.background = "#f3f3f3 url('images/Indian.jpg') no-repeat right top";
					}
					if(dataCuisine=="Italian")
					{
					document.body.style.background = "#f3f3f3 url('images/Italian.jpg') no-repeat right top";
					}
					if(dataCuisine=="Mexican")
					{
					document.body.style.background = "#f3f3f3 url('images/Mexican.jpg') no-repeat right top";
					}
					if(dataCuisine=="Chinese")
					{
					document.body.style.background = "#f3f3f3 url('images/Chinese.jpg') no-repeat right top";
					}
					if(dataCuisine=="Thai")
					{
					document.body.style.background = "#f3f3f3 url('images/Thai.jpg') no-repeat right top";
					}
					if(dataCuisine=="Japanese")
					{
					document.body.style.background = "#f3f3f3 url('images/Japenese.jpg') no-repeat right top";
					}
					
					
					flag = 1;
                    var rName = restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
                    var rAddress = restaurant[i].getElementsByTagName("Address")[0].childNodes[0].nodeValue;
                    var rZipCode = restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue;
                    var rCuisine = restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue;
                    var element = document.createElement("p");
                    var rest_Name = document.createTextNode(rName);
                    var rest_Addr = document.createTextNode(rAddress);
                    var rest_Zip = document.createTextNode(rZipCode);
                    var rest_Cuisine = document.createTextNode(rCuisine);
                    td1.appendChild(rest_Name);
                    	
                    td2.appendChild(rest_Addr);
                    
                    td3.appendChild(rest_Zip);

                    td4.appendChild(rest_Cuisine);
                    
					tr.appendChild(td1);
                    tr.appendChild(td2);
                    tr.appendChild(td3);
                    tr.appendChild(td4);
                    table.appendChild(tr);
						

                    document.body.appendChild(table);
                    document.body.appendChild(x);

                }

                if (restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue == dataCuisine &&
                    restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue.toUpperCase() == dataZip.toUpperCase() &&
                    restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue.toUpperCase() == dataName.toUpperCase()) {
                    
					
					if(dataCuisine=="Indian")
					{
					document.body.style.background = "#f3f3f3 url('images/Indian.jpg') no-repeat right top";
					}
					if(dataCuisine=="Italian")
					{
					document.body.style.background = "#f3f3f3 url('images/Italian.jpg') no-repeat right top";
					}
					if(dataCuisine=="Mexican")
					{
					document.body.style.background = "#f3f3f3 url('images/Mexican.jpg') no-repeat right top";
					}
					if(dataCuisine=="Chinese")
					{
					document.body.style.background = "#f3f3f3 url('images/Chinese.jpg') no-repeat right top";
					}
					if(dataCuisine=="Thai")
					{
					document.body.style.background = "#f3f3f3 url('images/Thai.jpg') no-repeat right top";
					}
					if(dataCuisine=="Japanese")
					{
					document.body.style.background = "#f3f3f3 url('images/Japenese.jpg') no-repeat right top";
					}
					
					
					flag = 1;
                    var rName = restaurant[i].getElementsByTagName("Name")[0].childNodes[0].nodeValue;
                    var rAddress = restaurant[i].getElementsByTagName("Address")[0].childNodes[0].nodeValue;
                    var rZipCode = restaurant[i].getElementsByTagName("Zip")[0].childNodes[0].nodeValue;
                    var rCuisine = restaurant[i].getElementsByTagName("Cuisine")[0].childNodes[0].nodeValue;
                    //var element = document.createElement("p");
                    var rest_Name = document.createTextNode(rName);
                    var rest_Addr = document.createTextNode(rAddress);
                    var rest_Zip = document.createTextNode(rZipCode);
                    var rest_Cuisine = document.createTextNode(rCuisine);
                    //element.appendChild(rest_Name);
                    td1.appendChild(rest_Name);
                    	
                    td2.appendChild(rest_Addr);
                    
                    td3.appendChild(rest_Zip);

                    td4.appendChild(rest_Cuisine);
                    
					tr.appendChild(td1);
                    tr.appendChild(td2);
                    tr.appendChild(td3);
                    tr.appendChild(td4);
                    table.appendChild(tr);
						

                    document.body.appendChild(table);
                    document.body.appendChild(x);

                }




            }


            
        }
    </script>

</body>

</html>